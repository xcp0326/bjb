<!Doctype html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>è¡¨å•ã€FormData å¯¹è±¡ | FE ç¬”è®°æœ¬ ğŸš€</title>
  
    <link rel="icon" href="/images/favico.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/bjb/style/gitalk.css">
  <link rel="stylesheet" href="/bjb/style/style.css">
  <script src="/bjb/js/gitalk.min.js"></script>
</head>
  <body>
    <header class="header">
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/bjb/" class="menu-item-link">é¦–é¡µ</a>
        </li>
      
        <li class="menu-item">
          <a href="/bjb/archives" class="menu-item-link">å½’æ¡£</a>
        </li>
      
    </ul>
  </nav>
  <h1 class="pc">FE ç¬”è®°æœ¬ ğŸš€</h1>
  <h1 class="mobile"><a href="/">FE ç¬”è®°æœ¬ ğŸš€</a></h1>
  <em>ã€Œ å­¦æµ·æ— æ¶¯ï¼Œæ²¡ç©ºæ’©å¦¹ï¼ã€</em>
</header>
    <main class="main">
      <article class="post">
  <div class="post-title">
    <h2 class="title">è¡¨å•ã€FormData å¯¹è±¡</h2>
  </div>
  <div class="post-meta">
    <span class="post-time">2019-05-27 17:38:07</span>
    <span class="post-tags">
      
    </span>
    
  </div>
  <div class="post-content">
    <p>æ³¨æ„ï¼šè¡¨å•é‡Œé¢çš„ <code>&lt;button&gt;</code> å…ƒç´ çš„é»˜è®¤ <code>type</code> æ˜¯ <code>submit</code>ã€‚è¡¨å•å…ƒç´ çš„ <code>submit()</code> æ–¹æ³•å’Œ <code>reset()</code> æ–¹æ³•ã€‚</p>
<p>è¡¨å•é€šè¿‡æµè§ˆå™¨è‡ªåŠ¨å®ç°é”®å€¼å¯¹çš„æ•°æ®ç„¶åå‘é€ç»™æœåŠ¡å™¨ã€‚å¦‚æœæˆ‘ä»¬æƒ³è‡ªå®šä¹‰å‘é€ç»™æœåŠ¡å™¨çš„é”®å€¼å¯¹æ•°æ®ï¼Œç„¶åé€šè¿‡ <code>XMLHttpRequeset.send()</code> æ–¹æ³•å‘é€ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ <code>FormData</code> å¯¹è±¡æ¥å®Œæˆè¿™é¡¹å·¥ä½œäº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> formdata = <span class="keyword">new</span> FormData(form); <span class="comment">// form å¯é€‰ï¼Œå¦‚æœä¸ºç©ºï¼Œè¡¨ç¤ºç©ºè¡¨å•ã€‚</span></span><br></pre></td></tr></table></figure>
<ul>
<li>formdata.get(key)</li>
<li>formdata.getAll(key)</li>
<li>formdata.set(key, value)</li>
<li>formdata.delete(key)</li>
<li>formdata.append(key, value)</li>
<li>formdata.has(key)</li>
<li>formdaata.keys()</li>
<li>formdata.values()</li>
<li>formdata.entries()</li>
</ul>
<h3 id="è¡¨å•çš„å†…ç½®éªŒè¯"><a href="#è¡¨å•çš„å†…ç½®éªŒè¯" class="headerlink" title="è¡¨å•çš„å†…ç½®éªŒè¯"></a>è¡¨å•çš„å†…ç½®éªŒè¯</h3><p>è¡¨å•çš„è‡ªåŠ¨æ ¡éªŒï¼Œå¦‚æœæ§ä»¶é€šè¿‡éªŒè¯ï¼ŒCSS çš„ <code>:valide</code> ä¼ªç±»ä¼šè¢«è§¦å‘ï¼Œå¦åˆ™ <code>:invalide</code> ä¼šè¢«è§¦å‘ï¼Œæµè§ˆå™¨ä¹Ÿä¼šç»ˆæ­¢è¡¨å•æäº¤ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªå¯¹åº”çš„é”™è¯¯ã€‚</p>
<p>è¡¨å•å’Œè¡¨å•æ§ä»¶éƒ½æœ‰ä¸€ä¸ª <code>checkValidity()</code> æ–¹æ³•ï¼Œè§¦å‘æ ¡éªŒã€‚</p>
<p>è¡¨å•æ§ä»¶å…ƒç´ çš„ willValidate å±æ€§è¡¨ç¤ºè¯¥æ§ä»¶æ˜¯å¦ä¼šåœ¨æäº¤æ˜¯è¿›è¡Œæ ¡éªŒã€‚å‡ºäºæŸäº›åŸå› ï¼Œæ§ä»¶ç¦æ­¢çº¦æŸéªŒè¯ï¼Œæ¯”å¦‚ æ§ä»¶è®¾æœ‰ disabled å±æ€§ã€‚<a href="https://www.html5rocks.com/en/tutorials/forms/constraintvalidation/#toc-willValidate" target="_blank" rel="noopener">Constraint Validation: Native Client Side Validation for Web Forms</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"one"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"two"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"three"</span> <span class="attr">disabled</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">'one'</span>).willValidate; <span class="comment">//undefined</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">'two'</span>).willValidate; <span class="comment">//true</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">'three'</span>).willValidate; <span class="comment">//false</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ§ä»¶å…ƒç´ çš„ <code>validationMessage</code> å±æ€§è¿”å›æ§ä»¶åœ¨æäº¤æ—¶è‡ªåŠ¨æ ¡éªŒå¹¶ä¸”ä¸æ»¡è¶³æ ¡éªŒæ¡ä»¶çš„æç¤ºæ–‡æœ¬ã€‚</p>
<p>æ§ä»¶å…ƒç´ çš„ <code>setCustomValidity()</code> æ–¹æ³•å®šåˆ¶æ ¡éªŒé”™è¯¯æç¤ºæ–‡æœ¬ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fieldset.setCustomValidity(errormessge); <span class="comment">// errormessage ä¸ºç©ºæ—¶ï¼Œæ¶ˆé™¤æ ¡éªŒå¤±è´¥çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure>
<p>æ§ä»¶å…ƒç´ çš„ <code>validatity</code>  å±æ€§è¿”å›çš„æ˜¯ ValidityState å¯¹è±¡ï¼ŒåŒ…å«å½“å‰æ ¡éªŒçš„ä¿¡æ¯ï¼š</p>
<ul>
<li>ValidityState.badInputï¼šæµè§ˆå™¨æ˜¯å¦ä¸èƒ½å°†ç”¨æˆ·è¾“å…¥è½¬æ¢æˆæ­£ç¡®çš„ç±»å‹ï¼Œæ¯”å¦‚ç”¨æˆ·åœ¨æ•°å€¼æ¡†è¾“å…¥å­—ç¬¦ä¸²</li>
<li>ValidityState.customErrorï¼šæ˜¯å¦å·²ç»è°ƒç”¨ setCustomValidity() æ–¹æ³•ï¼Œå°†æ ¡éªŒä¿¡æ¯è®¾ç½®ä¸ºä¸€ä¸ªéç©ºå­—ç¬¦ä¸²</li>
<li>ValidityState.patternMismatchï¼šç”¨æˆ·è¾“å…¥æ˜¯å¦ä¸æ»¡è¶³æ¨¡å¼</li>
<li>ValidityState.rangeOverflow / ValidityState.rangeUnderflow</li>
<li>ValidityState.stepMismatchï¼šç”¨æˆ·è¾“å…¥çš„å€¼ä¸ç¬¦åˆæ­¥é•¿çš„è®¾ç½®ï¼ˆå³ä¸èƒ½è¢«æ­¥é•¿å€¼æ•´é™¤ï¼‰</li>
<li>ValidityState.tooLong / ValidityState.tooShort</li>
<li>ValidityState.typeMismatchï¼šè¾“å…¥çš„å€¼ä¸ç¬¦åˆç±»å‹è¦æ±‚</li>
<li>ValidityState.validï¼šç”¨æˆ·æ˜¯å¦æ»¡è¶³æ‰€æœ‰æ ¡éªŒæ¡ä»¶</li>
<li>ValidityState.valueMissingï¼šç”¨æˆ·æ²¡æœ‰è¾“å…¥å¿…å¡«çš„å€¼</li>
</ul>
<p>è¡¨å•å…ƒç´ çš„ HTML å±æ€§ novalidate å…³é—­æµè§ˆå™¨çš„è‡ªåŠ¨æ ¡éªŒ</p>
<p>è¡¨å•çš„ç¼–ç æ ¼å¼ enctype å±æ€§ï¼š</p>
<ul>
<li>é»˜è®¤ enctype æ˜¯ application/x-www-form-urlencoded æ ¼å¼</li>
<li>text/plain è¡¨ç¤ºä»¥çº¯æ–‡æœ¬æ ¼å¼å‘é€</li>
<li>multipart/form-data æ•°æ®ä»¥æ··åˆçš„æ ¼å¼å‘é€</li>
</ul>
<p><code>&lt;input type=&quot;file&quot; multipule&gt;</code> multipule æ˜¯æŒ‡ä¸€æ¬¡é€‰æ‹©å¤šä¸ªæ–‡ä»¶ã€‚</p>

  </div>
  
</article>
    </main>
    <footer>
  <p>&copy; 2019 xcp0326</p>
</footer>
  </body>
</html>
