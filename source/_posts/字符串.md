---
title: å­—ç¬¦ä¸²
category:
date: 2018-11-20 16:20:17
---

> <sup>è¿™é‡Œæ˜¯æˆ‘è¯»[ã€Šé˜®ä¸€å³° JavaScript æ•™ç¨‹ã€‹](https://wangdoc.com/javascript/)åšçš„ç¬”è®°ã€‚</sup>

## 1. æ¦‚è¿°

### 1.1 å®šä¹‰

å•å¼•å·æˆ–è€…åŒå¼•å·ä¸­çš„ 0 ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦å°±æ˜¯å­—ç¬¦ä¸²

å•å¼•å·é‡Œé¢å†ç”¨å•å¼•å·éœ€è¦ç”¨åæ–œæ†è½¬ä¹‰ï¼Œæˆ–è€…å°†å…¶ä¸­ä¸€å¯¹å¼•å·æ”¹æˆåŒå¼•å·

åŒå¼•å·é‡Œé¢å†ç”¨åŒå¼•å·éœ€è¦ç”¨åæ–œæ†è½¬ä¹‰ï¼Œæˆ–è€…å°†å…¶ä¸­ä¸€å¯¹å¼•å·æ”¹æˆå•å¼•å·

å•åŒå¼•å·å¼•å·åŒ…å«çš„å­—ç¬¦ä¸²é»˜è®¤æ˜¯å•è¡Œï¼Œè¦åˆ†æˆå¤šè¡Œï¼Œéœ€è¦åœ¨è¡Œå°¾åŠ åæ–œæ†ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œ

```js
const errorStr = '
a
b
c'
// SyntaxError: Unexpected token ILLEGAL
```

åŠ äº†åæ–œæ ä»¥åï¼ŒåŸæ¥å†™åœ¨ä¸€è¡Œçš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œä¹¦å†™ã€‚ä½†æ˜¯ï¼Œè¾“å‡ºçš„æ—¶å€™è¿˜æ˜¯å•è¡Œï¼Œæ•ˆæœä¸å†™åœ¨åŒä¸€è¡Œå®Œå…¨ä¸€æ ·ã€‚æ³¨æ„ï¼Œåæ–œæ çš„åé¢å¿…é¡»æ˜¯æ¢è¡Œç¬¦ï¼Œè€Œä¸èƒ½æœ‰å…¶ä»–å­—ç¬¦ï¼ˆæ¯”å¦‚ç©ºæ ¼ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

```js
const str = '
a \
b \
c
'
str // 'abc'
```

å¯ä»¥ç”¨ + è¿æ¥å¤šä¸ªå•è¡Œå­—ç¬¦ä¸²

```js
const str = 'a'
+ 'b'
+ 'c'
str // 'abc'
```

è¾“å‡ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œå¥‡æ·«æ€ªæŠ€å•Š.

```js
(function () { /*
line 1
line 2
line 3
*/}).toString().split('\n').slice(1, -1).join('\n')
```

æˆ–è€…ç”¨ ES 6 çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²

```js
const str = `a
b
c` 
```

### 1.2 è½¬ä¹‰

- `\0` null `\u0000`
- `\b` åé€€é”® `\u0008`
- `\f` æ¢é¡µç¬¦ `\u000C`
- `\n` æ¢è¡Œç¬¦  `\u000A`
- `\r` å›è½¦ç¬¦ `\u000D`
- `\t` åˆ¶è¡¨ç¬¦  `\u0009`
- `\v` å‚ç›´åˆ¶è¡¨ç¬¦ `\u000B`
- `\'` å•å¼•å· `\u0027`
- `\"` åŒå¼•å· `\u0022`
- `\\` åæ–œæ†  `\u005C`

```jsÂ 
console.log('1\t2') // 1	2
```

åæ–œæ†åè·Ÿ 3 ä¸ªå…«è¿›åˆ¶æ•°ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚å…«è¿›åˆ¶æ•°å¯¹åº”è¯¥å­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚ `\251` è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚è¿™ç§æ–¹æ³•åªèƒ½è¾“å‡º 265 ç§å­—ç¬¦

åæ–œæ†åè·Ÿ x å†æ¥ç€ 2 ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œä¹Ÿä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚åå…­è¿›åˆ¶æ•°å¯¹åº”çš„æ˜¯è¿™ä¸ªå­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚ `\xA9` è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚è¿™ç§ä¹Ÿåªèƒ½æ˜¾ç¤º 256 ç§å­—ç¬¦ã€‚

åæ–œæ†åè·Ÿ u å†æ¥ç€ 4 ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚åå…­è¿›åˆ¶æ˜¯å¯¹åº”çš„è¿™ä¸ªå­—ç¬¦çš„ Unicode ç ç‚¹ï¼Œæ¯”å¦‚ `\u00A9` è¡¨ç¤ºç‰ˆæƒç¬¦å·ã€‚

```js
'\251' // "Â©"
'\xA9' // "Â©"
'\u00A9' // "Â©"
```

æ­£å¸¸å­—ç¬¦å‰é¢ä½¿ç”¨åæ–œæ†ï¼Œåæ–œæ†ä¼šè¢«å¿½ç•¥ã€‚

```js
'\a' // "a"
```

### 1.3 å­—ç¬¦ä¸²ä¸æ•°ç»„

å­—ç¬¦ä¸²å¯ä»¥è§†ä¸ºå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯ä»¥ä¸”åªå¯ä»¥åƒæ•°ç»„ä¸€æ ·è¯»å–å­—ç¬¦ä¸²æ•°ç»„é‡Œé¢å€¼ã€‚

```js
const a = '12345'
a.length // 5
a[0] // 1
a[8] // undefined
a['x'] // undefined
a[-1] // undefined
```

## 2. å­—ç¬¦é›†

JavaScript ä½¿ç”¨ Unicode å­—ç¬¦é›†ã€‚JavaScript å¼•æ“å†…éƒ¨ï¼Œæ‰€æœ‰å­—ç¬¦éƒ½ç”¨çš„ Unicode è¡¨ç¤ºã€‚

JavaScript ä¸ä»…å¯ä»¥ç”¨ Unicode å­˜å‚¨å­—ç¬¦ï¼Œè¿˜å¯ä»¥åªç”¨åœ¨ç¨‹åºä¸­ Unicode ç ç‚¹è¡¨ç¤ºå­—ç¬¦ï¼Œæ¯”å¦‚ `\u00A9` ä»£è¡¨ç‰ˆæƒç¬¦å·ã€‚

è§£æä»£ç æ—¶ï¼ŒJavaScript ä¼šè‡ªåŠ¨è¯†åˆ«ä¸€ä¸ªå­—ç¬¦æ—¶å­—é¢é‡è¿˜æ˜¯ Unicodeï¼Œè¾“å‡ºå­—é¢é‡ç»™ç”¨æˆ·

```js
const f\u006F\u006F = 'abc'
foo // 'abc'
```

æ¯ä¸ªå­—ç¬¦åœ¨ JavaScript å†…éƒ¨éƒ½æ˜¯ä»¥ 16 ä½ï¼ˆå³ 2 ä¸ªå­—èŠ‚ï¼‰çš„ UTF-16 æ ¼å¼å­˜å‚¨çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ JavaScript çš„å•ä½å­—ç¬¦é•¿åº¦å›ºå®šä¸º 16 ä½é•¿åº¦ï¼Œå³ 2 ä¸ªå­—èŠ‚ã€‚

UTF-16 æœ‰ä¸¤ç§é•¿åº¦ï¼š

- å¯¹äºç ç‚¹åœ¨ U+0000 åˆ° U+FFFF ä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º 16 ä½ï¼Œå³ 2 ä¸ªå­—èŠ‚
- å¯¹äºç ç‚¹åœ¨ U+10000 åˆ° U+10FFFF ä¹‹é—´çš„å­—ç¬¦ï¼Œé•¿åº¦ä¸º 32 ä½ï¼Œå³ 4 ä¸ªå­—èŠ‚ï¼Œè€Œä¸”å‰ä¸¤ä¸ªå­—èŠ‚åœ¨ 0xD800 åˆ° 0xDBFF ä¹‹é—´ï¼Œåä¸¤ä¸ªå­—èŠ‚åœ¨ 0xDC00 åˆ° 0xDFFF ä¹‹é—´ã€‚ç ç‚¹ U+1D306 å¯¹åº”çš„å­—ç¬¦ä¸º`ğŒ†`ï¼Œå®ƒçš„ UTF-16 å­—ç¬¦æ˜¯ 0xD834 0xDF06

JavaScript å¯¹ UTF-16 çš„æ”¯æŒæ˜¯ä¸å®Œæ•´çš„ï¼Œç”±äºå†å²åŸå› ï¼Œåªæ”¯æŒä¸¤å­—èŠ‚çš„å­—ç¬¦ï¼Œä¸æ”¯æŒå››å­—èŠ‚çš„å­—ç¬¦ã€‚è¿™æ˜¯å› ä¸º JavaScript ç¬¬ä¸€ç‰ˆå‘å¸ƒçš„æ—¶å€™ï¼ŒUnicode çš„ç ç‚¹åªç¼–åˆ° U+FFFFï¼Œå› æ­¤ä¸¤å­—ç¬¦è¶³å¤Ÿè¡¨ç¤ºäº†ã€‚åæ¥ï¼ŒUnicode çº³å…¥çš„å­—ç¬¦è¶Šæ¥è¶Šå¤šï¼Œå‡ºç°äº†å››å­—èŠ‚çš„ç¼–ç ã€‚ä½†æ˜¯ï¼ŒJavaScript çš„æ ‡å‡†æ­¤æ—¶å·²ç»å®šå‹äº†ï¼Œç»Ÿä¸€å°†å­—ç¬¦é•¿åº¦é™åˆ¶åœ¨ä¸¤å­—èŠ‚ï¼Œå¯¼è‡´æ— æ³•è¯†åˆ«å››å­—èŠ‚çš„å­—ç¬¦ã€‚`ğŒ†`æµè§ˆå™¨ä¼šæ­£ç¡®è¯†åˆ«ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ JavaScript å´æ— æ³•è¯†åˆ«ï¼Œä¼šè®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚

```js
'ğŒ†'.length // 2
```

æ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºç ç‚¹åœ¨ U+10000 åˆ° U+10FFFF ä¹‹é—´çš„å­—ç¬¦ï¼ŒJavaScript æ€»æ˜¯è®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚å¤„ç†çš„æ—¶å€™ï¼Œå¿…é¡»è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ JavaScript è¿”å›çš„å­—ç¬¦ä¸²çš„é•¿åº¦å¯èƒ½æ˜¯ä¸å¯¹çš„ã€‚

## 3. Base64 è½¬ç 

æœ‰æ—¶ï¼Œæ–‡æœ¬é‡Œé¢åŒ…å«ä¸€äº›ä¸å¯æ‰“å°çš„ç¬¦å·ï¼Œæ¯”å¦‚ ASCII ç  0 åˆ° 31 çš„ç¬¦å·éƒ½æ— æ³•æ‰“å°å‡ºæ¥ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ Base64 ç¼–ç å°†å®ƒä»¬è½¬æˆå¯ä»¥æ‰“å°çš„å­—ç¬¦ã€‚å¦ä¸€ä¸ªåœºæ™¯æ—¶ï¼Œæœ‰æ—¶å€™éœ€è¦ä»¥æ–‡æœ¬æ ¼å¼ä¼ é€’äºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨ Base64 ç¼–ç ã€‚

æ‰€è°“ Base64 ç¼–ç å°±æ˜¯ä¸€ç§ç¼–ç æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»æ„å€¼è½¬æˆ 0ï½9ã€Aï½Zã€aï½zã€+ å’Œ / è¿™ 64 ä¸ªå­—ç¬¦ç»„æˆçš„å¯æ‰“å°å­—ç¬¦ã€‚ä½¿ç”¨å®ƒçš„ä¸»è¦ç›®çš„ä¸æ˜¯ä¸ºäº†åŠ å¯†ï¼Œè€Œæ˜¯ä¸ºäº†ä¸å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œç®€åŒ–ç¨‹åºçš„å¤„ç†ã€‚

JavaScript åŸç”Ÿæä¾›çš„ Base64 çš„ä¸¤ä¸ªæ–¹æ³•ï¼š

- btoa ä»»æ„å€¼è½¬ä¸º Base64 ç¼–ç 
- atob Base64 ç¼–ç è½¬ä¸ºåŸæ¥çš„å€¼

```js
const str = 'hahaha'
base64Str = btoa(str) // "aGFoYWhh"
atob(base64Str) // "hahaha"
```

è¿™ä¸¤ä¸ªæ–¹æ³•ä¸é€‚åˆé ASCII ç çš„å­—ç¬¦ï¼Œä¼šæŠ¥é”™

```js
btoa('èƒ–è¾¾') // æŠ¥é”™
```

è¦å°†é ASCII ç å­—ç¬¦è½¬ä¸º Base64 ç¼–ç ï¼Œå¿…é¡»ä¸­é—´åŠ ä¸€ä¸ªè½¬ç ç¯èŠ‚ï¼Œå†ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼š

```js
const base64encode = str => btoa(encodeURIComponent(str))
const base64Decode = str => decodeURIComponent(atob(str))
base64encode('èƒ–è¾¾') // "JUU4JTgzJTk2JUU4JUJFJUJF"
base64Decode('JUU4JTgzJTk2JUU4JUJFJUJF') // èƒ–è¾¾
```

