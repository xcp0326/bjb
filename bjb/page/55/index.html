<!Doctype html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>FE 笔记本 🚀</title>
  
    <link rel="icon" href="/images/favico.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/bjb/style/gitalk.css">
  <link rel="stylesheet" href="/bjb/style/style.css">
  <script src="/bjb/js/gitalk.min.js"></script>
</head>
  <body>
    <header class="header">
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/bjb/" class="menu-item-link">首页</a>
        </li>
      
        <li class="menu-item">
          <a href="/bjb/archives" class="menu-item-link">归档</a>
        </li>
      
    </ul>
  </nav>
  <h1 class="pc">FE 笔记本 🚀</h1>
  <h1 class="mobile"><a href="/">FE 笔记本 🚀</a></h1>
  <em>「 学海无涯，没空撩妹！」</em>
</header>
    <main class="main">
      
  <article class="post">
  <div class="post-title">
    <h2 class="title">比较运算符</h2>
  </div>
  <div class="post-meta">
    <span class="post-time">2018-11-22 10:32:58</span>
    <span class="post-tags">
      
    </span>
    
  </div>
  <div class="post-content">
    <blockquote>
<p><sup>这里是我读<a href="https://wangdoc.com/javascript/" target="_blank" rel="noopener">《阮一峰 JavaScript 教程》</a>做的笔记。</sup></p>
</blockquote>
<p>比较运算符用于比较两个值的大小，然后返回一个布尔值，表示满足指定的条件。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span> &gt; <span class="number">1</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>比较运算符可以比较各种类型的值，不仅仅是数值</p>
<p>JavaScript 一共提供了 8 个比较运算符</p>
<ul>
<li>大于运算符 <code>&gt;</code></li>
<li>小于运算符 <code>&lt;</code></li>
<li>小于或者等于运算符 <code>&lt;=</code></li>
<li>大于或者等于运算符 <code>&gt;=</code></li>
<li>相等运算符 <code>==</code></li>
<li>严格相等运算符 <code>===</code></li>
<li>不相等运算符 <code>!=</code></li>
<li>严格不相等运算符 <code>!==</code></li>
</ul>
<p>这 8 个比较运算符分成两类：相等比较和非相等比较。两者的规则是不一样的。</p>
<p>对于非相等比较：算法是先看两个运算子是否都是字符串，如果是的，就按照 Unicode 码点顺序比较；如果不是就将两个运算子都转成数值，再进行大小比较。</p>
<h2 id="非相等运算符：字符串比较"><a href="#非相等运算符：字符串比较" class="headerlink" title="非相等运算符：字符串比较"></a>非相等运算符：字符串比较</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">'cat'</span> &gt; <span class="string">'Cat'</span> <span class="comment">// true c 的码点 99 大于 C 的码点 67</span></span><br><span class="line"><span class="string">'cat'</span> &gt; <span class="string">'dog'</span> <span class="comment">// false c 的码点 99，d 的码点 100</span></span><br><span class="line"><span class="string">'大'</span> &gt; <span class="string">'小'</span> <span class="comment">// false 大的码点是 22823，小的码点是 23567</span></span><br></pre></td></tr></table></figure>
<h2 id="非相等运算符：非字符串的比较"><a href="#非相等运算符：非字符串的比较" class="headerlink" title="非相等运算符：非字符串的比较"></a>非相等运算符：非字符串的比较</h2><p>如果运算子中，至少有一个不是字符串</p>
<p>如果两个运算子都是原始类型值，则先转成数值再比较。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">5</span> &gt; <span class="string">'4'</span> <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 等同于 5 &gt; Number('4')</span></span><br><span class="line"><span class="comment">// 即 5 &gt; 4</span></span><br><span class="line"></span><br><span class="line"><span class="literal">true</span> &gt; <span class="literal">false</span> <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 等同于 Number(true) &gt; Number(false)</span></span><br><span class="line"><span class="comment">// 即 1 &gt; 0</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span> &gt; <span class="literal">true</span> <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 等同于 2 &gt; Number(true)</span></span><br><span class="line"><span class="comment">// 即 2 &gt; 1</span></span><br></pre></td></tr></table></figure>
<p>与 NaN 的比较，任何值包括 NaN 本身与 NaN 比较，返回的都是 false。NaN 任何数学运算结果都返回 NaN</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> &gt; <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="number">1</span> &lt;= <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="string">'1'</span> &gt; <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> &gt; <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="number">1</span> &gt; <span class="literal">undefined</span> <span class="comment">// undefined 会被转成数字 NaN</span></span><br></pre></td></tr></table></figure>
<p>如果运算子都是对象，会转为原始类型的值，然后再进行比较</p>
<p>对象转换成原始类型的值，算法是先调用 valueOf 方法；如果返回值还是对象，就再接着调用 toString 方法。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = [<span class="number">2</span>]</span><br><span class="line">x &gt; <span class="string">'11'</span> <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 等同于 [2].valueOf().toString() &gt; '11'</span></span><br><span class="line"><span class="comment">// 即 '2' &gt; '11' '2'的码点比'1'要大</span></span><br><span class="line"></span><br><span class="line">x.valueOf = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="keyword">return</span> <span class="string">'1'</span>&#125;</span><br><span class="line">x &gt; <span class="string">'11'</span> <span class="comment">// false</span></span><br><span class="line"><span class="comment">// 等同于 [2].valueOf() &gt; '11'</span></span><br><span class="line"><span class="comment">// 即 '1' &gt; '11'</span></span><br></pre></td></tr></table></figure>
<p>两个对象之间的比较也是如此</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">2</span>] &gt; [<span class="number">1</span>] <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 等同于 [2].valueOf().toString() &gt; [1].valueOf().toString()</span></span><br><span class="line"><span class="comment">// 即 '2' &gt; '1'</span></span><br><span class="line"></span><br><span class="line">[<span class="number">2</span>] &gt; [<span class="number">11</span>] <span class="comment">//true</span></span><br><span class="line"><span class="comment">// 等同于 [2].valueOf().toString() &gt; [11].valueOf().toString()</span></span><br><span class="line"><span class="comment">// 即 '2' &gt; '11'</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="attr">x</span> : <span class="number">2</span>&#125; &gt;= &#123;<span class="attr">x</span> : <span class="number">1</span>&#125; <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 等同于 &#123;x : 2&#125;.valueOf().toString() &gt;= &#123;x:1&#125;.valueOf().toString()</span></span><br><span class="line"><span class="comment">// 即 '[object Object]' &gt;= '[object Object]'</span></span><br></pre></td></tr></table></figure>
<h2 id="严格相等运算符"><a href="#严格相等运算符" class="headerlink" title="严格相等运算符"></a>严格相等运算符</h2><p>不同类型的值，返回 false</p>
<p>同一类型的原始类型值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> === <span class="number">0x1</span> <span class="comment">// true 十六进制 0x1 就是十进制 1</span></span><br></pre></td></tr></table></figure>
<p>NaN 与任何值都不相等包括它自身，正 0 等于 负 0</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="number">-0</span> === +<span class="number">0</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>引用类型值比较时，是比较它们引用的是否是同一个地址。</p>
<p>两个对象的比较，严格相等运算是比较的地址，但是大于或者小于运算符是比较的值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;</span><br><span class="line">obj1 &gt; obj2 <span class="comment">// false</span></span><br><span class="line">obj1 &lt;= obj2 <span class="comment">// true</span></span><br><span class="line">obj1 === obj2 <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>undefined 和 null，自身比较是严格相等的</p>
<h2 id="严格不相等运算符"><a href="#严格不相等运算符" class="headerlink" title="严格不相等运算符 !=="></a>严格不相等运算符 !==</h2><p>严格不相等的算法是先求严格相等运算符的结果，然后返回取反值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> ！== <span class="string">'1'</span> <span class="comment">// true 等同与 !(1==='1')</span></span><br></pre></td></tr></table></figure>
<h2 id="相等运算符"><a href="#相等运算符" class="headerlink" title="相等运算符"></a>相等运算符</h2><ul>
<li><p>原始类型的比较，会先转换成数值再进行比较</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> == <span class="literal">true</span></span><br><span class="line"><span class="comment">// 即 1 == Number(true) </span></span><br><span class="line"><span class="comment">// 1 == 1 结果为 true</span></span><br><span class="line"></span><br><span class="line"><span class="string">'true'</span> == <span class="literal">true</span></span><br><span class="line"><span class="comment">// 即 Number('true') == Number(true) </span></span><br><span class="line"><span class="comment">// NaN == 1 结果为 false</span></span><br><span class="line"></span><br><span class="line"><span class="string">''</span> == <span class="number">0</span></span><br><span class="line"><span class="comment">// 即 Number('') == 0</span></span><br><span class="line"><span class="comment">// 0 == 0 结果为 true</span></span><br><span class="line"></span><br><span class="line"><span class="string">''</span> == <span class="literal">false</span></span><br><span class="line"><span class="comment">// 即 Number('') == Number(false)</span></span><br><span class="line"><span class="comment">// 0 == 0 结果为 true</span></span><br><span class="line"></span><br><span class="line"><span class="string">'1'</span> == <span class="literal">true</span></span><br><span class="line"><span class="comment">// 即 Number('1') == Number(true)</span></span><br><span class="line"><span class="comment">// 1 == 1 结果为 true</span></span><br><span class="line"></span><br><span class="line"><span class="string">'\n  123 \t'</span> == <span class="number">123</span></span><br><span class="line"><span class="comment">// 因为字符串转换为数值，省略前置和后置的空格 Number('123') == 123</span></span><br><span class="line"><span class="comment">// 123 == 123 结果为 true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对象与原始类型的比较，对象转成原始类型的值，再进行比较</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 对象与数值比较时，对象转为数值</span></span><br><span class="line">[<span class="number">1</span>] == <span class="number">1</span></span><br><span class="line"><span class="comment">// Number([1]) == 1</span></span><br><span class="line"><span class="comment">// 1 == 1 结果为 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象与字符串比较时，对象转为字符串</span></span><br><span class="line">[<span class="number">1</span>] == <span class="string">'1'</span></span><br><span class="line"><span class="comment">// String([1]) == '1'</span></span><br><span class="line"><span class="comment">// '1' == '1' 结果为 true</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>] == <span class="string">'1, 2'</span></span><br><span class="line"><span class="comment">// String([1,2]) == '1,2'</span></span><br><span class="line"><span class="comment">// '1,2' == '1,2' 结果为 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象与布尔值进行比较时，两边都转为数值</span></span><br><span class="line">[<span class="number">1</span>] == <span class="literal">true</span></span><br><span class="line"><span class="comment">// Number([1]) == Number(true)</span></span><br><span class="line"><span class="comment">// 1 == 1 结果为 true</span></span><br><span class="line">[<span class="number">2</span>] == <span class="literal">true</span></span><br><span class="line"><span class="comment">// Number([2]) == Number(true)</span></span><br><span class="line"><span class="comment">// 2 == 1 结果为 false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>undefined 和 null 与其他类型的值的比较都是为 false，它俩互相比较结果是 true。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> == <span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">null</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">null</span> <span class="comment">// false</span></span><br><span class="line"><span class="string">''</span> == <span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line"><span class="string">''</span> == <span class="literal">null</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>相等运算符的缺点，违反直觉。建议用严格相等</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> == <span class="string">''</span> <span class="comment">// true</span></span><br><span class="line"><span class="number">0</span> == <span class="string">'0'</span> <span class="comment">// true</span></span><br><span class="line"><span class="number">2</span> == <span class="literal">true</span> <span class="comment">// false</span></span><br><span class="line"><span class="number">2</span> == <span class="literal">false</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="string">'false'</span> <span class="comment">// false  --&gt; Number(false) == Number('false') --&gt; 0 == NaN --&gt; false</span></span><br><span class="line"><span class="literal">false</span> == <span class="string">'0'</span> <span class="comment">// true</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">null</span> <span class="comment">// false</span></span><br><span class="line"><span class="string">' \t\r\n '</span> == <span class="number">0</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="不相等运算符"><a href="#不相等运算符" class="headerlink" title="不相等运算符"></a>不相等运算符</h2><p>算法是先求相等运算符的结果，然后返回相反值。即</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> != <span class="string">'1'</span></span><br><span class="line"><span class="comment">// 即 !(1 == '1')</span></span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>

  </div>
  
</article>


  <nav class="page-nav">
    <a class="extend prev" rel="prev" href="/bjb/page/54/">&laquo;上一页</a><a class="page-number" href="/bjb/">1</a><span class="space">&hellip;</span><a class="page-number" href="/bjb/page/53/">53</a><a class="page-number" href="/bjb/page/54/">54</a><span class="page-number current">55</span><a class="page-number" href="/bjb/page/56/">56</a><a class="page-number" href="/bjb/page/57/">57</a><span class="space">&hellip;</span><a class="page-number" href="/bjb/page/66/">66</a><a class="extend next" rel="next" href="/bjb/page/56/">下一页&raquo;</a>
  </nav>

    </main>
    <footer>
  <p>&copy; 2019 xcp0326</p>
</footer>
  </body>
</html>
