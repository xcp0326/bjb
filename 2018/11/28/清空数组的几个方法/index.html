<!Doctype html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>清空数组的几个方法 | FE NOTEBOOK 🚀</title>
  
    <link rel="icon" href="/images/favico.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/bjb/style/gitalk.css">
  <link rel="stylesheet" href="/bjb/style/style.css">
  <script src="/bjb/js/gitalk.min.js"></script>
</head>
  <body>
    <header class="header">
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/bjb/" class="menu-item-link">首页</a>
        </li>
      
        <li class="menu-item">
          <a href="/bjb/archives" class="menu-item-link">归档</a>
        </li>
      
    </ul>
  </nav>
  <h1 class="pc">FE NOTEBOOK 🚀</h1>
  <h1 class="mobile"><a href="/">FE NOTEBOOK 🚀</a></h1>
  <em>「 学海无涯，没空撩妹！」</em>
</header>
    <main class="main">
      <article class="post">
  <div class="post-title">
    <h2 class="title">清空数组的几个方法</h2>
  </div>
  <div class="post-meta">
    <span class="post-time">2018-11-28 14:52:23</span>
    <span class="post-tags">
      
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/bjb/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/bjb/tags/数组/">数组</a></li></ul>
      
    </span>
    
  </div>
  <div class="post-content">
    <p>数组的相关教程已经看完，总结一下清空数组的几个方法</p>
<ul>
<li>length = 0</li>
<li>shift</li>
<li>pop</li>
<li>filter</li>
<li>slice</li>
<li>splice</li>
</ul>
<h3 id="length-0"><a href="#length-0" class="headerlink" title="length = 0"></a>length = 0</h3><p>这个最快，直接把数组的长度设置为 0，数组里面就没有东西了</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr.length = <span class="number">0</span></span><br><span class="line">arr <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h3 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h3><p>shift 用于删除数组第一项，这里清空数组就是用的 for 循环遍历数组长度次，每次都运行一次 shift 方法，最后就把数组清空啦。注意的是数组的长度，因为每次 shift 之后，数组的长度就会少 1，所以这里 for 开始的时候，需要定义一个 l 缓存住最开始数组的长度。看下面的代码。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = arr.length; i &lt; l; i++) &#123;</span><br><span class="line">  arr.shift()</span><br><span class="line">&#125;</span><br><span class="line">arr <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h3 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h3><p>pop 清空数组原理同上面操作，只是 pop 是用来删除数组最后一项。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = arr.length; i &lt; l; i++) &#123;</span><br><span class="line">  arr.pop()</span><br><span class="line">&#125;</span><br><span class="line">arr.length <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h3 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h3><p>splice 可以删除元素也可以插入元素，这里用的删除元素。删除从 0 开始的长度为数组长度的元素个数，这个时候删除后返回的就是原来的数组的一个拷贝。是不是可以用于浅拷贝 🤔</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr.splice(<span class="number">0</span>)</span><br><span class="line"><span class="comment">// 这里返回的是 [1,2,3]</span></span><br><span class="line"><span class="comment">// arr.splice(0, arr.length) 是一样的</span></span><br><span class="line">arr <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>过滤一个数组的元素，找出符合过滤 callback 的元素组成一个新的数组。所以我们这里就是找出一个都不会符合的条件，最后生成一个空的数组。这里其实也不能说是清空了数组，而只是把一个生成的空数组赋值给了原来的数组。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr = arr.filter(<span class="function"><span class="params">e</span> =&gt;</span> e === <span class="literal">undefined</span>)</span><br><span class="line">arr <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h3 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h3><p>slice 是提取数组中的一部分，生成一个新的数组，不会修改原来的数组。同上面 filter，把一个空数组赋值给了原来的数组，有点犯规啊。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr = arr.slice(arr.length)</span><br><span class="line">arr <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<p>这么说来，直接赋值为空数组也是清空数组的意思了。😂</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr = []</span><br><span class="line">arr <span class="comment">// []</span></span><br></pre></td></tr></table></figure>

  </div>
  
</article>
    </main>
    <footer>
  <p>&copy; 2019 bjb.dsphoebe.com <wbr> <a href="http://www.miitbeian.gov.cn/">京ICP备15048606号-1</a></p>
</footer>
  </body>
</html>
