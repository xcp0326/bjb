<!Doctype html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>Document èŠ‚ç‚¹ | FE NOTEBOOK ğŸš€</title>
  
    <link rel="icon" href="/images/favico.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/style/gitalk.css">
  <link rel="stylesheet" href="/style/style.css">
  <script src="/js/gitalk.min.js"></script>
</head>
  <body>
    <header class="header">
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link">é¦–é¡µ</a>
        </li>
      
        <li class="menu-item">
          <a href="/archives" class="menu-item-link">å½’æ¡£</a>
        </li>
      
    </ul>
  </nav>
  <h1 class="pc">FE NOTEBOOK ğŸš€</h1>
  <h1 class="mobile"><a href="/">FE NOTEBOOK ğŸš€</a></h1>
  <em>ã€Œ å­¦æµ·æ— æ¶¯ï¼Œæ²¡ç©ºæ’©å¦¹ï¼ã€</em>
</header>
    <main class="main">
      <article class="post">
  <div class="post-title">
    <h2 class="title">Document èŠ‚ç‚¹</h2>
  </div>
  <div class="post-meta">
    <span class="post-time">2018-12-25 11:40:06</span>
    <span class="post-tags">
      
    </span>
    
  </div>
  <div class="post-content">
    <blockquote>
<p><sup>è¿™é‡Œæ˜¯æˆ‘è¯»<a href="https://wangdoc.com/javascript/" target="_blank" rel="noopener">ã€Šé˜®ä¸€å³° JavaScript æ•™ç¨‹ã€‹</a>åšçš„ç¬”è®°ã€‚</sup></p>
</blockquote>
<p>document èŠ‚ç‚¹å¯¹è±¡ä»£è¡¨æ•´ä¸ªæ–‡æ¡£ï¼Œwindow.document å±æ€§æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚åªè¦æµè§ˆå™¨å¼€å§‹è½½å…¥ HTML æ–‡æ¡£ï¼Œè¯¥å¯¹è±¡å°±å­˜åœ¨äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>iframe æ¡†æ¶é‡Œé¢çš„ç½‘é¡µï¼Œä½¿ç”¨ iframe èŠ‚ç‚¹çš„ contentDocument å±æ€§è·å– document èŠ‚ç‚¹</p>
<p>AJAX æ“ä½œè¿”å›çš„æ–‡æ¡£ï¼Œä½¿ç”¨ XMLHttpRequest å¯¹è±¡çš„ responseXML å±æ€§è·å– document èŠ‚ç‚¹</p>
<p>document å¯¹è±¡ç»§æ‰¿äº† EventTarget æ¥å£ã€Node æ¥å£ã€ParentNode æ¥å£ã€‚ä»¥åŠä¸€äº›è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>å¿«æ·å±æ€§</p>
<ul>
<li>document.defaultView è¿”å› document æ‰€å±çš„ window å¯¹è±¡ï¼Œå¦‚æœå½“å‰æ–‡æ¡£ä¸å±æ€§ window å¯¹è±¡ï¼Œå°±è¿”å› nullã€‚</li>
<li>document.doctype document å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹æ˜¯ document.doctypeï¼Œç¬¬äºŒä¸ªæ˜¯ html æ ‡ç­¾èŠ‚ç‚¹</li>
<li>document.documentElement è¿”å›å½“å‰æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹ rootã€‚é€šå¸¸æ˜¯ document èŠ‚ç‚¹çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œç´§è·Ÿåœ¨ document.doctype èŠ‚ç‚¹åé¢ã€‚HTML ç½‘é¡µçš„è¯¥å±æ€§ï¼Œä¸€èˆ¬å°±æ˜¯ html æ ‡ç­¾èŠ‚ç‚¹</li>
<li>document.head æŒ‡å‘ head æ ‡ç­¾èŠ‚ç‚¹ã€document.body æŒ‡å‘ body æ ‡ç­¾èŠ‚ç‚¹ã€‚å¦‚æœæ”¹å†™å®ƒä»¬çš„å€¼ï¼Œç›¸å½“äºç§»é™¤æ‰€æœ‰å­èŠ‚ç‚¹</li>
<li>document.scrollingElement å½“å‰æ–‡æ¡£æ•´ä½“æ»šåŠ¨æ—¶ï¼Œåˆ°åº•æ˜¯å“ªä¸ªå…ƒç´ åœ¨æ»šåŠ¨ã€‚æ ‡å‡†æ¨¡å¼ä¸‹ï¼Œè¿™ä¸ªå±æ€§è¿”å›æ–‡æ¡£çš„æ ¹å…ƒç´  document.documentElement å³ html æ ‡ç­¾å…ƒç´ ã€‚å…¼å®¹æ¨¡å¼ä¸‹ï¼Œè¿”å›çš„æ˜¯ body æ ‡ç­¾å…ƒç´ ï¼Œå¦‚æœè¯¥å…ƒç´ ä¸å­˜åœ¨è¿”å› nullã€‚</li>
<li>Document.activeElement è¿”å›å½“å‰ç„¦ç‚¹çš„ DOM å…ƒç´ ã€‚é€šå¸¸è¿™ä¸ªå±æ€§è¿”å›çš„æ˜¯ inputã€textareaã€select ç­‰è¡¨å•å…ƒç´ ï¼Œå¦‚æœå½“å‰æ²¡æœ‰ç„¦ç‚¹å…ƒç´ ï¼Œåˆ™è¿”å› body æ ‡ç­¾å…ƒç´ æˆ–è€… nullã€‚</li>
<li>document.fullscreenElement è¿”å›å½“å‰ä»¥å…¨å±çŠ¶æ€å±•ç¤ºçš„ DOM å…ƒç´ ã€‚å¦‚æœä¸æ˜¯å…¨å±ï¼Œè¿”å› nullã€‚ç¡®å®šè§†é¢‘æ˜¯å¦æ‰“å¼€å…¨å±ï¼š<code>document.fullscreenElement.nodeName === &#39;video&#39;</code> è¿”å› true åˆ™æ˜¯å…¨å±ã€‚</li>
</ul>
<p>èŠ‚ç‚¹é›†åˆå±æ€§</p>
<p>document.linksã€document.formsã€document.imagesã€document.embedsã€document.pluginsã€document.scriptsã€document.styleSheets è¿”å›çš„éƒ½æ˜¯ HTMLCollection å®ä¾‹ï¼Œæ‰€ä»¥éƒ½å¯ä»¥é€šè¿‡ id æˆ–è€… name ç´¢å¼•åˆ°å¯¹åº”çš„æˆå‘˜ã€‚</p>
<p>æ–‡æ¡£é™æ€ä¿¡æ¯å±æ€§</p>
<ul>
<li>document.documentURI ç»§æ‰¿è‡ª Document æ¥å£ å¯ç”¨äºæ‰€æœ‰æ–‡æ¡£ã€ document.URL ç»§æ‰¿è‡ª HTMLDocument æ¥å£ï¼Œåªèƒ½ç”¨äº HTML æ–‡æ¡£ã€‚é‚£å¯¹å‰ç«¯æ¥è¯´å…¶å®æ˜¯ä¸€æ ·çš„ã€‚</li>
<li>document.domain å½“å‰æ–‡æ¡£åŸŸåï¼Œä¸åŒ…å«åè®®å’Œç«¯å£ã€‚åªæœ‰åœ¨æ¬¡çº§åŸŸåèœå¯ä»¥ä¿®æ”¹è¿™ä¸ªå€¼ï¼Œè®¾ç½®å®Œåä¼šå¯¼è‡´ç«¯å£è¢«æ”¹ä¸º nullã€‚</li>
<li>document.location</li>
<li>document.lastModified</li>
<li>document.titleã€document.characterSet</li>
<li>document.referrer ä¸ HTTP å¤´ä¿¡æ¯çš„ Referer å­—æ®µä¸€è‡´</li>
<li>document.dir è¡¨ç¤ºæ–‡å­—æ–¹å‘ rtlã€ltr</li>
<li>document.compatMode æµè§ˆå™¨å¤„ç†æ–‡æ¡£çš„æ¨¡å¼ï¼Œå¯èƒ½çš„å€¼ä¸º BackCompat å‘åå…¼å®¹æ¨¡å¼å’Œ CSS1Compat ä¸¥æ ¼æ¨¡å¼ã€‚ä¸€èˆ¬ç½‘é¡µè®¾ç½®äº†æ˜ç¡®çš„ DTDï¼Œdocument.compatMode çš„å€¼éƒ½ä¸º CSS1Compatã€‚</li>
</ul>
<p>æ–‡æ¡£çŠ¶æ€å±æ€§</p>
<ul>
<li><p>document.hidden çª—å£æœ€å°åŒ–ã€æµè§ˆå™¨åˆ‡æ¢ tab æ—¶è¿”å› trueï¼Œæ˜¯ Page Visibility API å¼•å…¥çš„ï¼Œä¸€èˆ¬é…åˆè¿™ä¸ª API ä½¿ç”¨</p>
</li>
<li><p>document.visibilityState è¿”å›æ–‡æ¡£çš„å¯è§çŠ¶æ€ï¼Œå¯ä»¥åœ¨é¡µé¢åŠ è½½æ—¶ï¼Œé˜²æ­¢åŠ è½½æŸäº›èµ„æºï¼›æˆ–è€…é¡µé¢ä¸å¯è§æ—¶ï¼Œåœæ‰ä¸€äº›é¡µé¢åŠŸèƒ½ã€‚</p>
<ul>
<li>visible é¡µé¢å¯è§æˆ–è€…éƒ¨åˆ†å¯è§</li>
<li>hidden é¡µé¢ä¸å¯è§</li>
<li>prerender é¡µé¢æ­£åœ¨æ¸²æŸ“ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ä¸å¯è§</li>
<li>unloaed é¡µé¢ä»å†…å­˜å¸è½½</li>
</ul>
</li>
<li><p>document.readyState è¿”å›æ–‡æ¡£å½“å‰çš„åŠ è½½çŠ¶æ€ï¼Œloading åŠ è½½ HTML ä»£ç é˜¶æ®µï¼ˆå°šæœªå®Œæˆè§£æï¼‰ã€interactive åŠ è½½å¤–éƒ¨èµ„æºé˜¶æ®µã€complete åŠ è½½å®Œæˆã€‚</p>
<p>è¿™ä¸ªå±æ€§å˜åŒ–çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æµè§ˆå™¨å¼€å§‹è§£æ HTML æ–‡æ¡£ï¼Œdocument.readyState å±æ€§ç­‰äº loading</li>
<li>æµè§ˆå™¨é‡åˆ° HTML æ–‡æ¡£ä¸­çš„ script æ ‡ç­¾å…ƒç´ ï¼Œå¹¶ä¸”æ²¡æœ‰ async æˆ–è€… defer å±æ€§ï¼Œå°±æš‚åœè§£æï¼Œå¼€å§‹æ‰§è¡Œè„šæœ¬ï¼Œè¿™æ—¶ document.readyState å±æ€§è¿˜æ˜¯ç­‰äº loading</li>
<li>HTML æ–‡æ¡£è§£æå®Œæˆï¼Œdocument.readyState å±æ€§å˜æˆ interactive</li>
<li>æµè§ˆå™¨ç­‰å¾…å›¾ç‰‡ã€æ ·å¼è¡¨ã€å­—ä½“æ–‡ä»¶ç­‰å¤–éƒ¨èµ„æºåŠ è½½å®Œæˆï¼Œä¸€æ—¦å…¨éƒ¨åŠ è½½å®Œæˆï¼Œdocument.readyState å±æ€§å˜æˆ completeã€‚</li>
</ol>
</li>
<li><p>document.cookie</p>
</li>
<li><p>document.designMode æ§åˆ¶å½“å‰æ–‡æ¡£æ˜¯å¦å¯ç¼–è¾‘ï¼Œé»˜è®¤ä¸º offï¼Œå¦‚æœè®¾ç½®ä¸º onï¼Œç”¨æˆ·å¯ä»¥ç¼–è¾‘æ•´ä¸ªæ–‡æ¡£çš„å†…å®¹ã€‚</p>
<blockquote>
<p> æœ‰æ„æ€ï¼Œä»€ä¹ˆåœºæ™¯ ğŸ¤” </p>
<p>on çš„æ—¶å€™ï¼Œå¯ä»¥è°ƒç”¨ document.execCommaned() æ–¹æ³•æ¥æ§åˆ¶æ–‡æœ¬ã€‚</p>
</blockquote>
</li>
<li><p>document.implementation è¿”å›ä¸€ä¸ª DOMImplementation å¯¹è±¡ï¼Œæœ‰ä¸‰ä¸ªæ–¹æ³•ï¼Œä¸»è¦ç”¨äºåˆ›å»ºç‹¬ç«‹äºå½“å‰æ–‡æ¡£çš„æ–°çš„ Document å¯¹è±¡ã€‚</p>
<ul>
<li>DOMImplementation.createDocument()ï¼šåˆ›å»ºä¸€ä¸ª XML æ–‡æ¡£</li>
<li>DOMImplementation.createHTMLDocument()ï¼šåˆ›å»ºä¸€ä¸ª HTML æ–‡æ¡£</li>
<li>DOMImplementation.createDocumentType()ï¼šåˆ›å»ºä¸€ä¸ª DocumentType å¯¹è±¡</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> doc = <span class="built_in">document</span>.implementation.createHTMLDocument(<span class="string">'Title'</span>);</span><br><span class="line"><span class="keyword">var</span> p = doc.createElement(<span class="string">'p'</span>);</span><br><span class="line">p.innerHTML = <span class="string">'hello world'</span>;</span><br><span class="line">doc.body.appendChild(p);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›¿æ¢å½“å‰æ–‡æ¡£ä¸ºæ–°å»ºçš„ doc æ–‡æ¡£ã€‚æœ‰æ„æ€å•Šã€‚</span></span><br><span class="line"><span class="built_in">document</span>.replaceChild(</span><br><span class="line">  doc.documentElement,</span><br><span class="line">  <span class="built_in">document</span>.documentElement</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æ–¹æ³•</p>
<ul>
<li><p>document.open()ã€document.close() </p>
</li>
<li><p>document.write()ã€document.writeLn()</p>
</li>
<li><p>document.querySelector()ã€document.querySelectorAll() å‚æ•°ä¸º CSS é€‰æ‹©å™¨</p>
</li>
<li><p>document.getElementsByTagName() è¿”å›ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾èŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ª HTMLCollection å®ä¾‹ï¼Œå¦‚æœå‚æ•°æ˜¯<code>*</code>åˆ™è¿”å›æ‰€æœ‰ HTML å…ƒç´ </p>
</li>
<li><p>document.getElementsByClassName() å‚æ•°å¦‚æœæ˜¯å¤šä¸ª classï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ™è¿”å›åŒæ—¶å…·æœ‰å¤šä¸ª className çš„æ ‡ç­¾èŠ‚ç‚¹</p>
</li>
<li><p>document.getElementsByName() è¿”å›å…·æœ‰æŸä¸ª name å±æ€§çš„æ ‡ç­¾èŠ‚ç‚¹çš„ NodeList å®ä¾‹</p>
</li>
<li><p>document.getElementById() è¿”å› id ä¸ºå‚æ•°çš„æ ‡ç­¾å…ƒç´ ï¼Œæ•ˆç‡æ¯” document.querySelector() é«˜å¾—å¤š</p>
</li>
<li><p>document.elementFromPoint()ã€document.elementsFromPoint() è¿”å›é¡µé¢æŒ‡å®š xã€y å€¼çš„æœ€ä¸Šå±‚çš„å…ƒç´ èŠ‚ç‚¹ã€å…ƒç´ èŠ‚ç‚¹çš„æ•°ç»„</p>
</li>
<li><p>document.caretPositionFromPoint() è¿”å›ä¸€ä¸ª CaretPosition å¯¹è±¡ï¼ŒåŒ…å«äº†æŒ‡å®šåæ ‡ç‚¹åœ¨èŠ‚ç‚¹å¯¹åƒå†…éƒ¨çš„ä½ç½®ä¿¡æ¯ã€‚CaretPosition å¯¹è±¡å°±æ˜¯å…‰æ ‡æ’å…¥ç‚¹çš„æ¦‚å¿µï¼Œç”¨äºç¡®å®šå…‰æ ‡ç‚¹åœ¨æ–‡æœ¬å¯¹è±¡å†…éƒ¨çš„å…·ä½“ä½ç½®ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> range = <span class="built_in">document</span>.caretPositionFromPoint(clientX, clientY);</span><br></pre></td></tr></table></figure>
<p>range æ˜¯æŒ‡å®šåæ ‡ç‚¹çš„ CaretPosition å¯¹è±¡ã€‚è¯¥å¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§ï¼š</p>
<ul>
<li>CaretPosition.offsetNodeï¼šè¯¥ä½ç½®çš„èŠ‚ç‚¹å¯¹è±¡</li>
<li>CaretPosition.offsetï¼šè¯¥ä½ç½®åœ¨ offsetNode å¯¹è±¡å†…éƒ¨ï¼Œä¸èµ·å§‹ä½ç½®ç›¸è·çš„å­—ç¬¦æ•°</li>
</ul>
</li>
<li><p>document.createElement()</p>
</li>
<li><p>document.createTextNode() ä¼ å…¥çš„å‚æ•°å¦‚æœæœ‰æ ‡ç­¾èŠ‚ç‚¹ä¼šè¢«è½¬ä¹‰ï¼Œä¸å¯¹å¼•å·è½¬ä¹‰ï¼Œä¸èƒ½ç”¨æ¥å¯¹ HTML å±æ€§èµ‹å€¼</p>
</li>
<li><p>document.createAttribute()</p>
</li>
<li><p>document.createComment()</p>
</li>
<li><p>document.createDocumentFragment() DocumentFragment æ˜¯å­˜åœ¨äºå†…å­˜çš„ DOM ç‰‡æ®µï¼Œä¸å±äºå½“å‰æ–‡æ¡£ï¼Œå¸¸å¸¸ç”¨æ¥ç”Ÿæˆä¸€æ®µè¾ƒå¤æ‚çš„ DOM ç»“æ„ï¼Œç„¶åå†æ’å…¥å½“å‰æ–‡æ¡£ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼Œå› ä¸º DocumentFragment ä¸å±äºå½“å‰æ–‡æ¡£ï¼Œå¯¹å®ƒçš„ä»»ä½•æ”¹åŠ¨ï¼Œéƒ½ä¸å›å¼•å‘ç½‘é¡µçš„é‡æ–°æ¸²æŸ“ï¼Œæ¯”ç›´æ¥ä¿®æ”¹å½“å‰æ–‡æ¡£çš„ DOM æœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç°ã€‚</p>
</li>
<li><p>document.createEvent() åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ Event å®ä¾‹ï¼Œå¯ä»¥è¢« element.dispatchEvent æ–¹æ³•ä½¿ç”¨ï¼Œè§¦å‘æŒ‡å®šäº‹ä»¶ã€‚å‚æ•°ä¸ºäº‹ä»¶ç±»å‹ï¼šUIEventsã€MouseEventsã€MutationEventsã€HTMLEvents ç­‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> event = <span class="built_in">document</span>.createEvent(<span class="string">'Event'</span>);</span><br><span class="line">event.initEvent(<span class="string">'build'</span>, <span class="literal">true</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'build'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.type); <span class="comment">// "build"</span></span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(event);</span><br></pre></td></tr></table></figure>
</li>
<li><p>document.addEventListener()ã€document.removeEventListener()ã€document.dispatchEvent() ç”¨äºå¤„ç† document èŠ‚ç‚¹äº‹ä»¶ã€‚éƒ½ç»§æ‰¿è‡ª EventTarget æ¥å£</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è§¦å‘äº‹ä»¶</span></span><br><span class="line"><span class="keyword">var</span> event = <span class="keyword">new</span> Event(<span class="string">'click'</span>);</span><br><span class="line"><span class="built_in">document</span>.dispatchEvent(event);</span><br></pre></td></tr></table></figure>
</li>
<li><p>document.hasFocus() å½“å‰æ–‡æ¡£ä¹‹ä¸­æ˜¯å¦æœ‰å…ƒç´ è¢«æ¿€æ´»æˆ–è·å¾—ç„¦ç‚¹ã€‚æœ‰ç„¦ç‚¹çš„æ–‡æ¡£å¿…å®šè¢«æ¿€æ´»ï¼Œä½†æ˜¯è¢«æ¿€æ´»çš„æ–‡æ¡£æœªå¿…æœ‰ç„¦ç‚¹ã€‚æ¯”å¦‚ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œä»å½“å‰çª—å£è·³å‡ºä¸€ä¸ªæ–°çª—å£ï¼Œè¯¥æ–°çª—å£å°±æ˜¯æ¿€æ´»çš„ï¼Œä½†æ˜¯ä¸æ‹¥æœ‰ç„¦ç‚¹ã€‚</p>
</li>
<li><p>document.adoptNode() å°†å‚æ•°èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ä»åŸæ¥æ‰€åœ¨æ–‡æ¡£æˆ–è€… DocumentFragment ç§»é™¤ï¼Œè®©å®ƒå½’å±å½“å‰ document å¯¹è±¡ï¼Œè¿”å›æ’å…¥åçš„æ–°èŠ‚ç‚¹ã€‚æ’å…¥çš„èŠ‚ç‚¹å¯¹è±¡çš„ ownerDocument å±æ€§ä¼šå˜æˆå½“å‰çš„ document å¯¹è±¡ï¼Œè€Œ parentNode å±æ€§ä¸º nullï¼ˆå› ä¸ºåªæœ‰æ’å…¥åˆ°æ–‡æ¡£æ ‘åæ‰æœ‰ parentNodeï¼‰ã€‚document.adoptNode æ–¹æ³•åªæ˜¯æ”¹å˜èŠ‚ç‚¹çš„å½’å±ï¼Œå¹¶æ²¡æœ‰å°†è¿™ä¸ªèŠ‚ç‚¹æ’å…¥åˆ°æ–‡æ¡£æ ‘ï¼Œæ‰€ä»¥å¦‚æœè¦æ’å…¥æ–‡æ¡£æ ‘ï¼Œè¿˜è¦ç”¨ appendChild æˆ–è€… insertBefore æ–¹æ³•å°†æ–°èŠ‚ç‚¹æ’å…¥åˆ°å½“å‰æ–‡æ¡£æ ‘ã€‚</p>
</li>
<li><p>document.importNode() æ–¹æ³•åˆ™æ˜¯ä»åŸæ¥æ‰€åœ¨æ–‡æ¡£æˆ–è€… DocumentFragment é‡Œé¢ï¼Œæ‹·è´æŸä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ï¼Œè®©å®ƒå½’å±å½“å‰ document å¯¹è±¡ã€‚æ‹·è´çš„èŠ‚ç‚¹å¯¹è±¡çš„ ownerDocument å±æ€§ä¼šå˜æˆå½“å‰çš„ document å¯¹è±¡ï¼Œè€Œ parentNode å±æ€§ä¸º nullï¼ˆå› ä¸ºåªæœ‰æ’å…¥åˆ°æ–‡æ¡£æ ‘åæ‰æœ‰ parentNodeï¼‰ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºèŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ˜¯å¦æ˜¯æ·±æ‹·è´ã€‚</p>
</li>
<li><p>document.createNodeIterator() è¿”å›ä¸€ä¸ªå­èŠ‚ç‚¹éå†å™¨ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦éå†çš„æ ¹èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ‰€è¦éå†çš„èŠ‚ç‚¹ç±»å‹ã€‚å‡ ç§ä¸»è¦çš„èŠ‚ç‚¹ç±»å‹å†™æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹ï¼šNodeFilter.SHOW_ALL</li>
<li>å…ƒç´ èŠ‚ç‚¹ï¼šNodeFilter.SHOW_ELEMENT</li>
<li>æ–‡æœ¬èŠ‚ç‚¹ï¼šNodeFilter.SHOW_TEXT</li>
<li>è¯„è®ºèŠ‚ç‚¹ï¼šNodeFilter.SHOW_COMMENT</li>
</ul>
<p>document.createNodeIterator æ–¹æ³•è¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼ˆNodeFilter å®ä¾‹ï¼‰ã€‚è¯¥å®ä¾‹çš„ nextNode() æ–¹æ³•å’Œ previousNode() æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥éå†æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> nodeIterator = <span class="built_in">document</span>.createNodeIterator(<span class="built_in">document</span>.body);</span><br><span class="line"><span class="keyword">var</span> pars = [];</span><br><span class="line"><span class="keyword">var</span> currentNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (currentNode = nodeIterator.nextNode()) &#123;</span><br><span class="line">  pars.push(currentNode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>nextNode æ–¹æ³•å…ˆè¿”å›éå†å™¨å†…éƒ¨æŒ‡é’ˆæ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¼šå°†æŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹<br>previousNode æ–¹æ³•å…ˆå°†æŒ‡é’ˆç§»å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åè¿”å›è¯¥èŠ‚ç‚¹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> nodeIterator = <span class="built_in">document</span>.createNodeIterator(</span><br><span class="line">	<span class="built_in">document</span>.body,</span><br><span class="line">  NodeFilter.SHOW_ELEMENT</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> currentNode = nodeIterator.nextNode()</span><br><span class="line"><span class="keyword">var</span> previousNode = nodeIterator.previousNode()</span><br><span class="line"></span><br><span class="line"><span class="comment">// nextNode æ–¹æ³•å…ˆè¿”å›éå†å™¨å†…éƒ¨æŒ‡é’ˆæ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¼šå°†æŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">// previousNode æ–¹æ³•å…ˆå°†æŒ‡é’ˆç§»å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åè¿”å›è¯¥èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">// æ­¤æ—¶ currentNode === previousNode</span></span><br><span class="line">currentNode === previousNode <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>éå†å™¨è¿”å›çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¼ å…¥çš„å‚æ•°èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>document.createTreeWalker() è¿”å›ä¸€ä¸ª DOM çš„å­æ ‘éå†å™¨ã€‚ä¸ document.createNodeIterator æ–¹æ³•åŸºæœ¬ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå®ƒè¿”å›çš„æ˜¯ TreeWalker å®ä¾‹ï¼Œè€Œåè€…æ˜¯è¿”å›çš„ NodeIterator å®ä¾‹ã€‚å¦å¤–è¿”å›çš„éå†å™¨ä¸åŒ…å«å‚æ•°èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>document.execCommand()ã€document.queryCommandSupported()ã€document.queryCommandEnabled() å¦‚æœ document.designMode ä¸º onï¼Œå³æ•´ä¸ªæ–‡æ¡£ç”¨æˆ·éƒ½å¯ç¼–è¾‘ï¼Œå¦‚æœæ ‡ç­¾èŠ‚ç‚¹çš„ contenteditable ä¸º trueï¼Œå³è¿™ä¸ªæ ‡ç­¾å¯ç¼–è¾‘ã€‚è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ document.execCommand() æ–¹æ³•ï¼Œæ”¹å˜å†…å®¹çš„æ ·å¼ï¼Œæ¯”å¦‚ document.execCommand(â€˜boldâ€™) ä¼šä½¿å¾—å­—ä½“åŠ ç²—ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.execCommand(command, showDefaultUI, input)</span><br></pre></td></tr></table></figure>
<p>è¯¥æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><p>commandï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¦å®æ–½çš„æ ·å¼</p>
</li>
<li><p>showDefaultUIï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨ç”¨æˆ·é»˜è®¤çš„ç•Œé¢ï¼Œå»ºè®®è®¾ç½®ä¸º false</p>
</li>
<li><p>inputï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¯¥æ ·å¼çš„è¾…åŠ©å†…å®¹ï¼Œæ¯”å¦‚ç”Ÿæˆè¶…çº§è¿æ¥æ—¶ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯æ‰€è¦é“¾æ¥çš„ç½‘å€ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸º trueï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šå¼¹å‡ºæç¤ºæ¡†ï¼Œè¦æ±‚ç”¨æˆ·åœ¨æç¤ºæ¡†å†…è¾“å…¥è¯¥å‚æ•°ã€‚ä½†æ˜¯ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¹ˆåšï¼Œä¸ºäº†å…¼å®¹æ€§ï¼Œè¿˜æ˜¯éœ€è¦è‡ªå·±éƒ¨ç½²è·å–è¿™ä¸ªå‚æ•°æ¯”è¾ƒå¥½ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> url = <span class="built_in">window</span>.prompt(<span class="string">'è¯·è¾“å…¥ç½‘å€'</span>)</span><br><span class="line"><span class="keyword">if</span> (url) &#123;</span><br><span class="line">  <span class="built_in">document</span>.execCommand(<span class="string">'createLink'</span>, <span class="literal">false</span>, url)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>document.execCommand() çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœä¸º falseï¼Œè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•æ— æ³•ç”Ÿæ•ˆã€‚</p>
<p>è¿™ä¸ªæ–¹æ³•å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œåªå¯¹é€‰ä¸­çš„å†…å®¹ç”Ÿæ•ˆã€‚å¦‚æœæœ‰å¤šä¸ªå†…å®¹å¯ç¼–è¾‘åŒºåŸŸï¼Œé‚£ä¹ˆåªå¯¹å½“å‰ç„¦ç‚¹æ‰€åœ¨çš„å…ƒç´ ç”Ÿæ•ˆã€‚</p>
<p>document.execCommand() æ–¹æ³•å¯ä»¥æ‰§è¡Œçš„æ ·å¼æ”¹å˜æœ‰å¾ˆå¤šç§ï¼Œä¸‹é¢æ˜¯å…¶ä¸­çš„ä¸€äº›ï¼šboldã€insertLineBreakã€selectAllã€createLinkã€insertOrderedListã€subscriptã€deleteã€insertUnorderedListã€superscriptã€formatBlockã€insertParagraphã€undoã€forwardDeleteã€insertTextã€unlinkã€insertImageã€italicã€unselectã€insertHTMLã€redoã€‚</p>
</li>
</ul>
<p>  document.queryCommandEnabled() æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦å…è®¸ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>
<p>  document.queryCommandSupported() æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰æ˜¯å¦å¯ç”¨æŸç§æ ·å¼æ”¹å˜ã€‚æ¯”å¦‚ï¼ŒåŠ ç²—åªæœ‰å­˜åœ¨æ–‡æœ¬é€‰ä¸­æ—¶æ‰å¯ç”¨ï¼Œå¦‚æœæ²¡æœ‰é€‰ä¸­æ–‡æœ¬ï¼Œå°±ä¸å¯ç”¨ã€‚</p>
<ul>
<li>document.getSelection() è¿™ä¸ªæ–¹æ³•æŒ‡å‘ window.getSelection() æ–¹æ³•ã€‚</li>
</ul>

  </div>
  
</article>
    </main>
    <footer>
  <p>&copy; 2019 code.dsphoebe.com <wbr> <a href="http://www.miitbeian.gov.cn/">äº¬ICPå¤‡15048606å·-1</a></p>
</footer>
  </body>
</html>
