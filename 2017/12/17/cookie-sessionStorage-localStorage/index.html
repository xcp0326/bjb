<!Doctype html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>比较 cookie，localStorage 和 sessionStorage | FE NOTEBOOK 🚀</title>
  
    <link rel="icon" href="/images/favico.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/style/gitalk.css">
  <link rel="stylesheet" href="/style/style.css">
  <script src="/js/gitalk.min.js"></script>
</head>
  <body>
    <header class="header">
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link">首页</a>
        </li>
      
        <li class="menu-item">
          <a href="/archives" class="menu-item-link">归档</a>
        </li>
      
    </ul>
  </nav>
  <h1 class="pc">FE NOTEBOOK 🚀</h1>
  <h1 class="mobile"><a href="/">FE NOTEBOOK 🚀</a></h1>
  <em>「 学海无涯，没空撩妹！」</em>
</header>
    <main class="main">
      <article class="post">
  <div class="post-title">
    <h2 class="title">比较 cookie，localStorage 和 sessionStorage</h2>
  </div>
  <div class="post-meta">
    <span class="post-time">2017-12-17 00:00:00</span>
    <span class="post-tags">
      
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cookie/">cookie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/localStroage/">localStroage</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sessionStorage/">sessionStorage</a></li></ul>
      
    </span>
    
  </div>
  <div class="post-content">
    <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>cookie, sessionStorage, localStroage都是存储在客户端本地机器上的数据。设置完后，可整站调用，是真正意义上的“全局变量”。</p>
<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><p>由于HTTP无法记录状态，服务器端用cookie来记录用户状态的，由服务器端生成。<br>通过HTTP把值存储在用户本地机器上，下次服务器端再访问的时候，通过HTTP的请求头带着cookie来确认是不是同一个用户。  </p>
<p>最初是服务器端动态开发web的时候，是服务器端操作。  </p>
<p>有了AJAX后，AJAX请求接口的时候，AJAX通过xhrFields.withCredentials: true，在request.header里带cookie值给服务器端已确认是同一个用户。  </p>
<p>cookie也可以在前端生成，直接document.cookie=”key=value;key2=value2;….domain=..path=..expired=…”，是键值对组成的字符串。cookie的设置，读取都是操作字符串，一般大家操作都会自己再重新定义setcookie，getcookie，removecookie等基础方法来操作document.cookie字符串。或者找类似的小框架比如 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie/Simple_document.cookie_framework" target="_blank" rel="noopener">cookie操作简易库</a>。  </p>
<p>cookie的存储量最多只能4kb，最多存储的键值对各个浏览器不同，最多的也只有50个。</p>
<h3 id="Storage"><a href="#Storage" class="headerlink" title="Storage"></a>Storage</h3><p>sessionStorage和localStorage都是H5新出来的，用来替换document.cookie的，与HTTP头无关系。<br>能存储5mb的数据。<br>有对应的webapi操作数据：</p>
<ul>
<li>storge.setItem(key, value) // 设置storage</li>
<li>storage.getItem(key) // 获取storage</li>
<li>storage.removeItem(key) // 删除key的storage</li>
<li>storage.clear() // 清除storage</li>
</ul>
<h4 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h4><p>localStorage是永久保存的，除非覆盖/清除</p>
<h4 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h4><p>sessionStorage，session这个词，大概就能知道它的时效性了。它在关闭会话或者浏览器就会被清除</p>
<h5 id="sessionStorage场景？"><a href="#sessionStorage场景？" class="headerlink" title="sessionStorage场景？"></a>sessionStorage场景？</h5><p>调查问卷</p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ul>
<li><a href="http://blog.csdn.net/lijing198997/article/details/9378047" target="_blank" rel="noopener">HTTP cookies 详解</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie" target="_blank" rel="noopener">Document.cookie</a></li>
<li><a href="http://jerryzou.com/posts/cookie-and-web-storage/" target="_blank" rel="noopener">详说 cookie, LocalStorage 与 SessionStorage</a></li>
</ul>

  </div>
  
</article>
    </main>
    <footer>
  <p>&copy; 2019 code.dsphoebe.com <wbr> <a href="http://www.miitbeian.gov.cn/">京ICP备15048606号-1</a></p>
</footer>
  </body>
</html>
